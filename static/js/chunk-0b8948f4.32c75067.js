(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b8948f4"],{"0538":function(t,e,n){"use strict";var a=n("1c0b"),r=n("861d"),o=[].slice,l={},i=function(t,e,n){if(!(e in l)){for(var a=[],r=0;r<e;r++)a[r]="a["+r+"]";l[e]=Function("C,a","return new C("+a.join(",")+")")}return l[e](t,n)};t.exports=Function.bind||function(t){var e=a(this),n=o.call(arguments,1),l=function(){var a=n.concat(o.call(arguments));return this instanceof l?i(e,a.length,a):e.apply(t,a)};return r(e.prototype)&&(l.prototype=e.prototype),l}},"131a":function(t,e,n){var a=n("23e7"),r=n("d2bb");a({target:"Object",stat:!0},{setPrototypeOf:r})},"1c18":function(t,e,n){},"333d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},r=[];n("a9e3");Math.easeInOutQuad=function(t,e,n,a){return t/=a/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function l(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(t,e,n){var a=i(),r=t-a,u=20,c=0;e="undefined"===typeof e?500:e;var s=function t(){c+=u;var i=Math.easeInOutQuad(c,a,r,e);l(i),c<e?o(t):n&&"function"===typeof n&&n()};s()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&u(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},s=c,d=(n("e498"),n("2877")),p=Object(d["a"])(s,a,r,!1,null,"6af373ef",null);e["a"]=p.exports},3410:function(t,e,n){var a=n("23e7"),r=n("d039"),o=n("7b0b"),l=n("e163"),i=n("e177"),u=r((function(){l(1)}));a({target:"Object",stat:!0,forced:u,sham:!i},{getPrototypeOf:function(t){return l(o(t))}})},"4ae1":function(t,e,n){var a=n("23e7"),r=n("d066"),o=n("1c0b"),l=n("825a"),i=n("861d"),u=n("7c73"),c=n("0538"),s=n("d039"),d=r("Reflect","construct"),p=s((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),b=!s((function(){d((function(){}))})),f=p||b;a({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(t,e){o(t),l(e);var n=arguments.length<3?t:o(arguments[2]);if(b&&!p)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return a.push.apply(a,e),new(c.apply(t,a))}var r=n.prototype,s=u(i(r)?r:Object.prototype),f=Function.apply.call(t,s,e);return i(f)?f:s}})},"9f0c":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("4d90");function a(t){var e=[],n=new Date;n.setMonth(n.getMonth()-1);var a=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),o=n.getFullYear();e[0]=o+"-"+r+"-"+a;var l=new Date;return a=String(l.getDate()).padStart(2,"0"),r=String(l.getMonth()+1).padStart(2,"0"),o=l.getFullYear(),e[1]=o+"-"+r+"-"+a,e}},a623:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").every,o=n("a640"),l=n("ae40"),i=o("every"),u=l("every");a({target:"Array",proto:!0,forced:!i||!u},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},b4b0:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("h2",[t._v("Pending Approval to Fulfill")]),n("el-row",[n("el-col",{attrs:{sm:12}},[n("el-date-picker",{staticStyle:{width:"500px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",format:"MM/dd/yyyy","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:t.handleDateChange},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),n("el-col",{staticStyle:{"text-align":"right"},attrs:{sm:12}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"mainTbl",staticStyle:{width:"100%"},attrs:{"show-summary":"",data:t.list,"summary-method":t.getMainTblSummaries,border:"",fit:"","highlight-current-row":""},on:{"expand-change":t.handleExpandRow}},[n("el-table-column",{attrs:{align:"center",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.items,border:""}},[n("el-table-column",{attrs:{prop:"description",label:"Description"}}),n("el-table-column",{attrs:{prop:"qty",label:"Qty",width:"50"}}),n("el-table-column",{attrs:{prop:"units",label:"Units",width:"70"}}),n("el-table-column",{attrs:{prop:"unit_price",label:"Unit price",width:"100"}}),n("el-table-column",{attrs:{prop:"cpu",label:"CPU",width:"50"}}),n("el-table-column",{attrs:{prop:"discount",label:"Discount",width:"100"}}),n("el-table-column",{attrs:{prop:"discount_label",label:"Discount Type",width:"130"}}),n("el-table-column",{attrs:{prop:"e_discount",label:"Extra Discount",width:"130"}}),n("el-table-column",{attrs:{prop:"sub_total",label:"Sub",width:"100"}}),n("el-table-column",{attrs:{prop:"less_discount",label:"Extended",width:"100"}}),n("el-table-column",{attrs:{prop:"tax_note",label:"Line Note",width:"100"}}),n("el-table-column",{attrs:{prop:"adjust_price",label:"Adjust Price",width:"130"}})],1),n("h3",[t._v("Invoice Tracker")]),n("el-table",{staticStyle:{width:"100%",background:"#D3D3D3",color:"red","text-align":"center"},attrs:{data:e.row.myInvoices,border:"","show-summary":"","sum-text":"Total","empty-text":"No Active Invoice outstanding"}},[n("el-table-column",{attrs:{prop:"number",label:"Number"}}),n("el-table-column",{attrs:{prop:"date",label:"Date"}}),n("el-table-column",{attrs:{prop:"subTotal",label:"Sub Total"}}),n("el-table-column",{attrs:{prop:"tax",label:"Total Excise Tax"}}),n("el-table-column",{attrs:{prop:"total",label:"Total Due"}}),n("el-table-column",{attrs:{prop:"pTotal",label:"Total Collected"}}),n("el-table-column",{attrs:{prop:"pTax",label:"Total Collected Tax"}}),n("el-table-column",{attrs:{prop:"rTotal",label:"Remaining Sub Total"}}),n("el-table-column",{attrs:{prop:"rTax",label:"Remaining Tax"}}),n("el-table-column",{attrs:{prop:"rTotal",label:"View"}}),n("el-table-column",{attrs:{prop:"rTax",label:"Download"}}),t._v(" /> ")],1),n("h3",[t._v("Pending Orders")]),n("el-table",{staticStyle:{width:"100%",background:"#E42217","text-align":"center"},attrs:{data:e.row.pendingOrders,border:"","show-summary":"","sum-text":"Total"}},[n("el-table-column",{attrs:{prop:"number",label:"Number"}}),n("el-table-column",{attrs:{prop:"date",label:"Date"}}),n("el-table-column",{attrs:{align:"center",prop:"base_price",label:"TBP"}}),n("el-table-column",{attrs:{align:"center",prop:"discount",label:"Discount"}}),n("el-table-column",{attrs:{align:"center",prop:"e_discount",label:"Extra Discount"}}),n("el-table-column",{attrs:{align:"center",prop:"extended",label:"Sub"}}),n("el-table-column",{attrs:{align:"center",prop:"prValue",label:"PR-Value"}}),n("el-table-column",{attrs:{align:"center",prop:"tax",label:"ETax"}}),n("el-table-column",{attrs:{align:"center",prop:"adjust_price",label:"Total Due"}}),t._v(" /> ")],1)]}}])}),n("el-table-column",{attrs:{align:"center",prop:"index",label:"No",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"number",label:"Date",width:"100"}}),n("el-table-column",{attrs:{align:"center",prop:"clientname",label:"Client"}}),n("el-table-column",{attrs:{align:"center",prop:"distributor.companyname",label:"Distributor",width:"200"}}),n("el-table-column",{attrs:{align:"center",prop:"base_price",label:"TBP",width:"100"}}),n("el-table-column",{attrs:{align:"center",prop:"discount",label:"Discount",width:"90"}}),n("el-table-column",{attrs:{align:"center",prop:"e_discount",label:"Extra Discount",width:"75"}}),n("el-table-column",{attrs:{align:"center",prop:"extended",label:"Sub",width:"100"}}),n("el-table-column",{attrs:{align:"center",prop:"prValue",label:"PR-Value",width:"70"}}),n("el-table-column",{attrs:{align:"center",prop:"tax",label:"ETax",width:"70"}}),n("el-table-column",{attrs:{align:"center",prop:"adjust_price",label:"Total Due",width:"100"}}),n("el-table-column",{attrs:{align:"center",label:"Actions",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleRowAction}},[n("el-button",{attrs:{type:"primary"}},[t._v(" Actions"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{target:"_blank",to:"page1?id="+e.row.id}},[n("i",{staticClass:"el-icon-document"}),t._v("View ")])],1),n("el-dropdown-item",{attrs:{command:e.row.key+",1",icon:"el-icon-download"}},[t._v("CSV")])],1)],1)]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.query.page,limit:t.query.limit},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"limit",e)},pagination:t.fnLoadData}})],1)])},r=[],o=(n("a623"),n("4160"),n("d81d"),n("13d5"),n("a9e3"),n("b680"),n("159b"),n("5530")),l=(n("96cf"),n("1da1")),i=n("de0d"),u=n("9f0c"),c=n("333d"),s=new i["a"],d={name:"WBOrderArchive0",components:{Pagination:c["a"]},data:function(){return{list:[],loading:!1,pickerOptions:{shortcuts:[{text:"Last week",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"Last month",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"Last 3 months",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]},value2:Object(u["a"])(),total:0,query:{page:1,limit:10,keyword:""}}},created:function(){this.fnLoadData()},methods:{handleExpandRow:function(t,e){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var r,l,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=!1,e.forEach((function(e){e.id===t.id&&(r=!0)})),!r||t.bLoaded){a.next=12;break}return l=n.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a.next=6,s.getPendingDetail(t.id);case 6:i=a.sent,n.list[t.key]=Object(o["a"])(Object(o["a"])({},n.list[t.key]),i.customerFinacialInfo),i.pendingOrders.forEach((function(t,e){i.pendingOrders[e]=Object(o["a"])(Object(o["a"])({},i.pendingOrders[e]),i.pendingOrders[e].total_info)})),n.list[t.key].pendingOrders=i.pendingOrders,n.list[t.key].bLoaded=!0,l.close();case 12:case"end":return a.stop()}}),a)})))()},getMainTblSummaries:function(t){var e=t.columns,n=t.data,a=[];return e.forEach((function(t,e){if(e<4)a[e]="";else{var r=n.map((function(e){return Number(e[t.property])}));if(r.every((function(t){return isNaN(t)})))a[e]="";else{var o="";switch(e){case 5:o="TBP:";break;case 6:o="Discount:";break;case 7:o="Extra Discount:";break;case 8:o="Sub:";break;case 9:o="PR-Value:";break;case 10:o="ETax:";break;case 11:o="Total Due:";break;case 12:o="Total Debt:";break}a[e]=o+"$"+r.reduce((function(t,e){var n=Number(e);return isNaN(n)?t:t+e}),0).toFixed(2)}}})),a},handleDateChange:function(){this.fnLoadData()},handleFilter:function(){this.query.page=1,this.fnLoadData()},handleRowAction:function(t){console.log(t)},fnLoadData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,r,l,i,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=Object(o["a"])({},t.query),a=t.query,r=a.limit,l=a.page,n.start_date=t.value2[0],n.end_date=t.value2[1],e.next=7,s.archive0(n);case 7:i=e.sent,u=i.orders,c=i.total,t.list=u,t.total=c,t.list.forEach((function(e,n){t.list[n]=Object(o["a"])(Object(o["a"])({},e),e.total_info),t.list[n]["index"]=(l-1)*r+n+1,t.list[n]["key"]=n})),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()}}},p=d,b=(n("ba0e"),n("2877")),f=Object(b["a"])(p,a,r,!1,null,null,null);e["default"]=f.exports},ba0e:function(t,e,n){"use strict";n("fd48")},de0d:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return g}));n("131a");function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}n("4ae1"),n("3410");function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n("d3b7"),n("25f0");function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var s=n("53ca");function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!==Object(s["a"])(e)&&"function"!==typeof e?d(t):e}function b(t){var e=c();return function(){var n,a=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p(this,n)}}var f=n("b775"),m=function(){function t(e){a(this,t),this.uri=e}return o(t,[{key:"list",value:function(t){return Object(f["a"])({url:"/"+this.uri,method:"get",params:t})}},{key:"get",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return Object(f["a"])({url:"/"+this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return Object(f["a"])({url:"/"+this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/"+t,method:"delete"})}}]),t}(),g=function(t){i(n,t);var e=b(n);function n(){return a(this,n),e.call(this,"wborder")}return o(n,[{key:"getFormInitial",value:function(){return Object(f["a"])({url:"/"+this.uri+"/form/get_init_data",method:"get"})}},{key:"save",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/form/store",method:"post",data:t})}},{key:"archive0",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/archive0",method:"get",params:t})}},{key:"archive1",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/archive1",method:"get",params:t})}},{key:"getPendingDetail",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/archive0/customer-detail?id="+t,method:"get"})}},{key:"getOrderDetail",value:function(t){return Object(f["a"])({url:"/"+this.uri+"/detail/"+t,method:"get"})}}]),n}(m)},e498:function(t,e,n){"use strict";n("1c18")},fd48:function(t,e,n){}}]);